#!/usr/bin/env bash

VK_PATH=~/dev/vulkan/sdk/*/x86_64/bin/
COMPILER=$VK_PATH/glslangValidator

function compile {
  if ! $COMPILER -V $1.$2; then exit 1; fi
  $COMPILER -H $1.$2 > $2.spvasm
}

function compile_debug {
  if ! $COMPILER -V debug.$1 -o debug_$1.spv; then exit 1; fi
  $COMPILER -H debug.$1 > debug_$1.spvasm
}

./clean

compile_debug vert
compile_debug frag

compile shader vert
compile shader frag
